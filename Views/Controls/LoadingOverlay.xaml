<UserControl
    x:Class="WPFBoilerPlate.Views.Controls.LoadingOverlay"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WPFBoilerPlate.Views.Controls"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    IsHitTestVisible="{Binding IsLoading}"
    mc:Ignorable="d">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    </UserControl.Resources>

    <Grid Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">

        <!--  반투명 배경  -->
        <Border Background="#80000000" />

        <!--  중앙 로딩 박스  -->
        <Border
            Padding="20"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Background="White"
            CornerRadius="8">
            <Border.Effect>
                <DropShadowEffect
                    BlurRadius="15"
                    Opacity="0.3"
                    ShadowDepth="0" />
            </Border.Effect>

            <StackPanel>
                <ProgressBar
                    Width="200"
                    Height="20"
                    IsIndeterminate="True" />

                <TextBlock
                    Margin="0,10,0,0"
                    HorizontalAlignment="Center"
                    Text="Loading..." />
            </StackPanel>
        </Border>
    </Grid>
</UserControl>